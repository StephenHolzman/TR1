

\documentclass{article}

\usepackage{amsmath}
\usepackage{natbib}
\bibpunct{(}{)}{,}{a}{}{;} 
\newcommand{\dd}{\; \mathrm{d}}
\usepackage{url}
\usepackage{authblk}

\begin{document}
\title{Reading Human Fertility Database and Human Mortality Database data into \texttt{R}}
\author{Tim Riffe}
\affil{Department of Demography, University of California, Berkeley}
\maketitle
\begin{abstract}
This is about
\end{abstract}

\section{Motivation}
The \citet{HFD} and \citet{HMD} are two widely used data sources
for the comparative and historical study of fertiltiy and mortality. Both
databases offer the option to download data in bulk in a few different formats. After a bulk
download, users can then set up local databases in a variety of
convenient ways, such as that described by \citet{minton2015} for \texttt{R}
\citep{Rcitation} users. Another option for \texttt{R} users is to read data
directly into an interactive session from the respective database websites. The \texttt{HMDHFDplus} package
provides easy direct access to the databases using a simple standard set of
arguments. Issues such as authentication and fixing column classes are handled
automatically. This report outlines the basic features and provides usage
examples.

\section{Installation}
The \texttt{HMDHFDplus} package is hosted by and can be installed
directly from \texttt{github}.\footnote{The package is under the following url:
\url{http://github.com/timriffe/TR1/tree/master/TR1/HMDHFDplus}. This report,
as well as a useful \texttt{README} document, can be found under
\url{http://github.com/timriffe/TR1}.} Two external dependencies help \texttt{R}
handle \texttt{html} parsing and database authentication, and these must be installed first in order for \texttt{HMDHFDplus} to properly install.
These two dependencies are \texttt{cURL} and \texttt{XML}, and their
installation unfortunately depends on one's operating system at this time.

In \texttt{Linux} and similar systems, open the Terminal and run:
\begin{verbatim}
sudo apt-get install libcurl
sudo apt-get install libxml2-dev
\end{verbatim}
Then install \texttt{HMDHFDplus} using:
\begin{verbatim}
library(devtools)
install_github("timriffe/TR1/TR1/HMDHFDplus")
\end{verbatim}
This is the simplest case. For Windows, Mac, or other special cases, some
further steps are required. Please consult the
\texttt{README}\footnote{The
\texttt{README} is at the
foot of the main repository
page: \url{https://github.com/timriffe/TR1}} file on the
\texttt{github} repository for more details, and contact the maintainer if
necessary.

\section{Usage and examples}
Load the package using:
\begin{verbatim}
library(HMDHFDplus)
\end{verbatim}
The two main functions of interest are \texttt{readHMDweb()} and
\texttt{readHFDweb()}, and both functions have the same essential
arguments. These two functions only require the user to supply country codes,
date item names, and database authentication parameters. The HFD also allows
users to extract data from former updates, which may be useful for
strict replication purposes. In order to make use of this feature, users must
be aware of the 8-digit date code associated with the specific country series
update. By default, texttt{readHMDweb()} extracts the most recent update,
and we do not demonstrate the archive feature. It helps to be a bit familiar
with HMD and HFD file naming conventions.
To get the population codes used in either database, run 
\begin{verbatim}
getHFDcountries()
getHMDcountries()
\end{verbatim}
To see the data products available for a given country, run

The HMD and HFD both require user registration, and users will have usernames
and passwords for these databases.

\section{Acknowledgements}
Thanks to Joshua Goldstein and Carl Boe for supporting development of this R
functionality, and to Vladimir Shkolnikov, Dmitri Jdanov, and Tom\'{a}\^{s}
Sobotka for the invitation to present this material at the HFD side meeting to
the 2015 PAA Annual Meeting.
This work was supported by the National Institute On Aging of the U.S. National Institutes of Health (NIH) under Award Numbers R01-AG011552 and R01-AG040245. The content is solely the responsibility of the
author and does not necessarily represent the official views of the NIH.

\bibliographystyle{plainnat}
  \bibliography{references} 

\end{document}

